"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8782],{8782:(E,u,l)=>{l.r(u),l.d(u,{HomePageModule:()=>q});var g=l(6814),c=l(5548),s=l(6223),m=l(3911),d=l(2125),_=l(5861),t=l(2029),f=l(2014),k=l(6310);const p=function(o,a){return{"background-color":o,color:a}};function h(o,a){if(1&o&&(t.TgZ(0,"ion-card",1)(1,"ion-label",2),t._uU(2),t.qZA()()),2&o){const e=t.oxw();t.Q6J("routerLink","/stack-details/"+e.stack.id)("ngStyle",t.WLB(3,p,e.stack.background_color,e.stack.font_color)),t.xp6(2),t.Oqu(e.stack.name)}}let S=(()=>{class o{constructor(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-stack"]],inputs:{stack:"stack"},decls:1,vars:1,consts:[["class","ion-padding","style","font-size: 1.2rem;",3,"routerLink","ngStyle",4,"ngIf"],[1,"ion-padding",2,"font-size","1.2rem",3,"routerLink","ngStyle"],[1,"ion-text-center"]],template:function(e,n){1&e&&t.YNc(0,h,3,6,"ion-card",0),2&e&&t.Q6J("ngIf",n.stack)},dependencies:[g.O5,g.PC,c.PM,c.Q$,c.YI,d.rH]}),o})();const x=function(o){return{"background-color":o}},C=function(o){return{color:o}};let Z=(()=>{class o{submitForm(){const e=this.form.getRawValue();alert(JSON.stringify(e)),this.editStack?(this.editStack={...e,id:this.editStack.id},alert("edit: "+JSON.stringify(this.editStack))):(this.editStack={...e,id:0},alert("insert: "+JSON.stringify(this.editStack))),this.submitStack.emit(this.editStack)}constructor(){this.submitStack=new t.vpe,this.form=new s.cw({name:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),background_color:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),font_color:new s.NI("",{nonNullable:!0,validators:[s.kI.required]})})}ngOnInit(){this.editStack?(alert("edit"),this.form.setValue({name:this.editStack.name,background_color:this.editStack.background_color,font_color:this.editStack.font_color})):(alert("create"),this.form.setValue({name:"",background_color:"#f2f2f2",font_color:"#0d0d0d"}),alert(JSON.stringify(this.form.value)))}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-stack-form"]],inputs:{editStack:"editStack"},outputs:{submitStack:"submitStack"},decls:20,vars:9,consts:[[3,"formGroup","ngSubmit"],["for","name"],["id","name","formControlName","name"],["for","backgroundColor"],["type","color","id","backgroundColor","formControlName","background_color"],["for","fontColor"],["type","color","id","fontColor","formControlName","font_color"],["type","submit",3,"disabled"],[1,"ion-padding",3,"ngStyle"],[1,"ion-text-center",3,"ngStyle"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return n.submitForm()}),t.TgZ(1,"ion-label",1),t._uU(2,"Name"),t.qZA(),t._UZ(3,"ion-input",2),t.TgZ(4,"ion-label",3),t._uU(5,"Background"),t.qZA(),t._UZ(6,"ion-input",4),t.TgZ(7,"ion-label",5),t._uU(8,"Font"),t.qZA(),t._UZ(9,"ion-input",6),t.TgZ(10,"ion-button",7),t._uU(11,"Save"),t.qZA()(),t.TgZ(12,"pre"),t._uU(13,"  "),t.TgZ(14,"ion-card",8),t._uU(15,"\n    "),t.TgZ(16,"ion-label",9),t._uU(17),t.qZA(),t._uU(18,"\n  "),t.qZA(),t._uU(19,"\n"),t.qZA()),2&e&&(t.Q6J("formGroup",n.form),t.xp6(10),t.Q6J("disabled",n.form.invalid),t.xp6(4),t.Q6J("ngStyle",t.VKq(5,x,n.form.value.background_color)),t.xp6(2),t.Q6J("ngStyle",t.VKq(7,C,n.form.value.font_color)),t.xp6(1),t.Oqu(n.form.value.name))},dependencies:[g.PC,s._Y,s.JJ,s.JL,s.sg,s.u,c.YG,c.PM,c.pK,c.Q$,c.j9]}),o})();function b(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-checkbox",13),t.NdJ("ngModelChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleEditCheck=i)})("ionChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleEditStack(i))}),t._uU(1,"Edit"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("ngModel",e.toggleEditCheck)}}function T(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-checkbox",13),t.NdJ("ngModelChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleDeleteCheck=i)})("ionChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleDeleteStack(i))}),t._uU(1,"Delete"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("ngModel",e.toggleDeleteCheck)}}function J(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-stack-form",18),t.NdJ("submitStack",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.updateStack(i))}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("editStack",e.editStack)}}function H(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-stack-form",19),t.NdJ("submitStack",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.saveStack(i))}),t.qZA()}}function M(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",14)(3,"ion-button",2),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeStackFormModal())}),t._uU(4,"Cancel"),t.qZA()()()(),t.TgZ(5,"ion-content",15),t.YNc(6,J,1,1,"app-stack-form",16),t.YNc(7,H,1,0,"app-stack-form",17),t.qZA()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf","edit"===e.formMode),t.xp6(1),t.Q6J("ngIf","create"===e.formMode)}}function y(o,a){if(1&o&&(t.TgZ(0,"ion-col",27),t._UZ(1,"app-stack",28),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("stack",e)}}function w(o,a){if(1&o&&(t.TgZ(0,"ion-col",29),t._UZ(1,"app-stack",28),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("stack",e)}}function N(o,a){if(1&o&&(t.TgZ(0,"ion-button",30),t._uU(1,"Delete"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("id","present-alert-"+e.id)}}function P(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-alert",31),t.NdJ("didDismiss",function(i){t.CHM(e);const r=t.oxw().$implicit,U=t.oxw(2);return t.KtG(U.setDeleteResult(i,r.id))}),t.qZA()}if(2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.Q6J("trigger","present-alert-"+e.id)("header","Delete Card?")("buttons",n.deleteAlertButtons)}}function v(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.openEditStackModal(i))}),t._uU(1,"Edit"),t.qZA()}}function A(o,a){if(1&o&&(t.TgZ(0,"ion-row"),t.YNc(1,y,2,1,"ion-col",21),t.YNc(2,w,2,1,"ion-col",22),t.TgZ(3,"ion-col",23),t.YNc(4,N,2,1,"ion-button",24),t.YNc(5,P,1,3,"ion-alert",25),t.YNc(6,v,2,0,"ion-button",26),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.toggleDeleteCheck&&!e.toggleEditCheck),t.xp6(1),t.Q6J("ngIf",e.toggleDeleteCheck||e.toggleEditCheck),t.xp6(2),t.Q6J("ngIf",e.toggleDeleteCheck),t.xp6(1),t.Q6J("ngIf",e.toggleDeleteCheck),t.xp6(1),t.Q6J("ngIf",e.toggleEditCheck)}}function F(o,a){if(1&o&&(t.TgZ(0,"ion-grid"),t.YNc(1,A,7,5,"ion-row",20),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.stacks)}}const I=[{path:"",component:(()=>{class o{constructor(e,n,i){this.leardsStorage=e,this.translateConfigService=n,this.actionSheetController=i,this.toggleEditCheck=!1,this.toggleDeleteCheck=!1,this.formMode="create",this.stacks=[],this.handlerMessage="",this.roleMessage="",this.deleteAlertButtons=[{text:"Cancel",role:"cancel",handler:()=>{this.handlerMessage="Delete canceled"}},{text:"OK",role:"confirm",handler:()=>{this.handlerMessage="Delete confirmed"}}],this.translateConfigService.getDefaultLanguage(),this.language=this.translateConfigService.getCurrentLang()}saveStacksToStorage(){var e=this;return(0,_.Z)(function*(){yield e.leardsStorage.set("stacks",JSON.stringify(e.stacks))})()}loadStacksFromStorage(){var e=this;return(0,_.Z)(function*(){const n=yield e.leardsStorage.get("stacks");e.stacks=JSON.parse(n)})()}setDeleteResult(e,n){alert(typeof e),"confirm"===e.detail.role&&(this.stacks=this.stacks.filter(i=>i.id!==n),this.saveStacksToStorage(),this.loadStacksFromStorage())}toggleEditStack(e){!0===e.detail.checked&&(this.toggleDeleteCheck=!1),this.toggleEditCheck=e.detail.checked}toggleDeleteStack(e){!0===e.detail.checked&&(this.toggleEditCheck=!1),this.toggleDeleteCheck=e.detail.checked}getHighestStackId(){return 0===this.stacks.length?0:this.stacks.reduce((e,n)=>n.id>e.id?n:e).id}saveStack(e){var n=this;return(0,_.Z)(function*(){alert("saveStack"+JSON.stringify(e)),e.id=n.getHighestStackId()+1,n.stacks.push(e),yield n.saveStacksToStorage(),yield n.loadStacksFromStorage(),alert("saveStack++++++"+JSON.stringify(n.stacks)),n.closeStackFormModal()})()}updateStack(e){var n=this;return(0,_.Z)(function*(){n.stacks.map(i=>{i.id===e.id&&(i.name=e.name,i.background_color=e.background_color,i.font_color=e.font_color)}),yield n.saveStacksToStorage(),yield n.loadStacksFromStorage(),n.closeStackFormModal()})()}deleteStackFromStorage(e){var n=this;return(0,_.Z)(function*(){const i=n.stacks.filter(r=>r.id!==e);yield n.leardsStorage.set("stacks",JSON.stringify(i))})()}closeStackFormModal(){this.formMode="create",this.modal.dismiss(null,"cancel")}openEditStackModal(e){this.formMode="edit",this.editStack=e,this.modal.present()}refresh(e){setTimeout(()=>{e.detail.complete()},3e3)}changeLanguage(){var e=this;return(0,_.Z)(function*(){const n=yield e.actionSheetController.create({header:"Languages",buttons:[{text:"English",icon:"language-outline",handler:()=>{e.language="en",e.translateConfigService.setLanguage("en")}},{text:"German",icon:"language-outline",handler:()=>{e.language="de",e.translateConfigService.setLanguage("de")}}]});yield n.present();const{role:i,data:r}=yield n.onDidDismiss();console.log("onDidDismiss resolved with role and data",i,r)})()}ngOnInit(){this.loadStacksFromStorage()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.K),t.Y36(k.w),t.Y36(c.BX))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],viewQuery:function(e,n){if(1&e&&t.Gf(c.ki,5),2&e){let i;t.iGM(i=t.CRH())&&(n.modal=i.first)}},decls:23,vars:8,consts:[[3,"translucent"],["slot","end"],[3,"click"],["name","language-outline"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["collapse","condense"],["size","large"],["class","ion-padding",3,"ngModel","ngModelChange","ionChange",4,"ngIf"],["id","open-modal",1,"ion-float-right",3,"click"],["name","add"],["trigger","open-modal"],[4,"ngIf"],[1,"ion-padding",3,"ngModel","ngModelChange","ionChange"],["slot","start"],[1,"ion-padding"],[3,"editStack","submitStack",4,"ngIf"],[3,"submitStack",4,"ngIf"],[3,"editStack","submitStack"],[3,"submitStack"],[4,"ngFor","ngForOf"],["size","12",4,"ngIf"],["size","11",4,"ngIf"],["size","1"],["color","danger","class","ion-float-right ion-padding stackDeleteButton",3,"id",4,"ngIf"],[3,"trigger","header","buttons","didDismiss",4,"ngIf"],["color","primary","class","ion-float-right ion-padding",3,"click",4,"ngIf"],["size","12"],[3,"stack"],["size","11"],["color","danger",1,"ion-float-right","ion-padding","stackDeleteButton",3,"id"],[3,"trigger","header","buttons","didDismiss"],["color","primary",1,"ion-float-right","ion-padding",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ion-buttons",1)(6,"ion-button",2),t.NdJ("click",function(){return n.changeLanguage()}),t._UZ(7,"ion-icon",3),t.qZA()()()(),t.TgZ(8,"ion-content",4)(9,"ion-refresher",5),t.NdJ("ionRefresh",function(r){return n.refresh(r)}),t._UZ(10,"ion-refresher-content"),t.qZA(),t.TgZ(11,"ion-header",6)(12,"ion-toolbar")(13,"ion-title",7),t._uU(14," Stacks "),t.qZA()()(),t.YNc(15,b,2,1,"ion-checkbox",8),t.YNc(16,T,2,1,"ion-checkbox",8),t.TgZ(17,"ion-button",9),t.NdJ("click",function(){return n.formMode="create"}),t._UZ(18,"ion-icon",10),t.qZA(),t.TgZ(19,"ion-modal",11),t.YNc(20,M,8,2,"ng-template"),t.qZA(),t.TgZ(21,"ion-list"),t.YNc(22,F,2,1,"ion-grid",12),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(3),t.hij(" ",t.lcZ(4,6,"page_home_title")," "),t.xp6(5),t.Q6J("fullscreen",!0),t.xp6(7),t.Q6J("ngIf",n.stacks.length>0),t.xp6(1),t.Q6J("ngIf",n.stacks.length>0),t.xp6(6),t.Q6J("ngIf",n.stacks.length>0))},dependencies:[g.sg,g.O5,s.JJ,s.On,c.Ge,c.YG,c.Sm,c.nz,c.wI,c.W2,c.jY,c.Gu,c.gu,c.q_,c.nJ,c.Wo,c.Nd,c.wd,c.sr,c.ki,c.w,S,Z,m.X$]}),o})()}];let Q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(I),d.Bz]}),o})(),D=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,s.u5,c.Pc,d.Bz]}),o})(),q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,s.u5,s.UX,c.Pc,Q,D,m.aw]}),o})()}}]);